@model StempelApp.Viewmodels.UserViewModel

<section class="section">
    <h1 class="title is-1 has-text-centered has-text-black">Aufgaben Liste</h1>

    <div id="zeiterfassung" class="mb-4">00:00:00</div>

    <div class="buttons">
        <button type="button" class="button is-family-primary is-medium" onclick="start()">Start</button>
        <button type="button" class="button is-family-primary is-medium" onclick="pause()">Pause</button>
    </div>

    <div>
        <form asp-controller="Feedback" asp-action="Create" method="post" enctype="multipart/form-data">
            @for (int i = 0; i < Model.Projects.Count; i++)
            {
                var project = Model.Projects[i];
                for (int j = 0; j < project.Activities.Count; j++)
                {
                    var activity = project.Activities[j];
                    <div class="accordion mb-4">
                        <div class="accordion-header"
                             style="display: flex; justify-content: space-between; cursor:pointer;"
                             onclick="toggleAccordion('accordion-content-@i-@j')">
                            <label>Aufgabe: @activity</label>
                        </div>
                        <div class="accordion-content" id="accordion-content-@i-@j" style="display:none;">
                            <li class="field">
                                <ul>
                                    <li>
                                        <label class="radio">
                                            <input type="radio" name="Aufgabe_@activity" value="nicht erledigt" checked>
                                            nicht erledigt
                                        </label>
                                        <label class="radio">
                                            <input type="radio" name="Aufgabe_@activity" value="erledigt">
                                            erledigt
                                        </label>
                                        <div class="field">
                                            <label class="label has-text-black">Datei hochladen</label>
                                            <div id="file-js-example" class="file has-name is-fullwidth">
                                                <label class="file-label">
                                                    <input class="file-input" type="file" name="resume_@activity">
                                                    <span class="file-cta">
                                                        <span class="file-label">Choose a file…</span>
                                                    </span>
                                                    <span class="file-name">No file selected</span>
                                                </label>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </div>
                    </div>
               }
            }
        </form>
    </div>
    <div class="mt-4">
        <button type="button" class="button is-family-primary is-medium" onclick="ende()">Ende</button>
    </div>
</section>

<script>
    function toggleAccordion(id) {
        var content = document.getElementById(id);
        if (content.style.display === "none" || content.style.display === "") {
            content.style.display = "block";
        } else {
            content.style.display = "none";
        }
    }
</script>


